<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>楓之谷私服武陵道場NPC JS腳本 | Z1N&#39;s house</title>
<meta name="description" content="System.out.print("Welcome to Z1N's house！");" />
<link rel="shortcut icon" href="https://Z1Nhouse.github.io//favicon.ico?v=1582461368955">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://Z1Nhouse.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://Z1Nhouse.github.io/">
  <img class="avatar" src="https://Z1Nhouse.github.io//images/avatar.png?v=1582461368955" alt="">
  </a>
  <h1 class="site-title">
    Z1N&#39;s house
  </h1>
  <p class="site-description">
    System.out.print("Welcome to Z1N's house！");
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首頁
        </a>
      
    
      
        <a href="/archives" class="menu">
          歸檔
        </a>
      
    
      
        <a href="/tags" class="menu">
          標籤
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Z1Nhouse" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              楓之谷私服武陵道場NPC JS腳本
            </h2>
            <div class="post-info">
              <span>
                2020-01-30
              </span>
              <span>
                6 min read
              </span>
              
                <a href="https://Z1Nhouse.github.io//tag/-vd-vjqdd" class="post-tag">
                  # 武陵道場
                </a>
              
                <a href="https://Z1Nhouse.github.io//tag/DVFB_aznO" class="post-tag">
                  # 楓之谷私服
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://i.imgur.com/gNjRi5m.png" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>適用端口：120白狐端</p>
<h2 id="演示">演示：</h2>
<p>兌換道具數量可在腳本內自行更改。<br>
<img src="https://Z1Nhouse.github.io//post-images/1581868964190.png" alt=""><br>
<img src="https://Z1Nhouse.github.io//post-images/1581868967442.png" alt=""><br>
<img src="https://Z1Nhouse.github.io//post-images/1581868972678.png" alt=""></p>
<ul>
<li>中文化：本人</li>
<li>NPC：2091005</li>
</ul>
<h2 id="腳本">腳本：</h2>
<pre><code class="language-javascript">var status = -1;
var sel;
var mapid;

function start() {
    mapid = cm.getMapId();

    if (mapid == 925020001) {
	cm.sendSimple(&quot;我的師傅是武陵中擁有最高功力的人，您現在是想告訴我您要挑戰我的師傅嗎？不要說我沒有警告過你。#b \n\r #L0#我想單人挑戰他#l \n\r #L1#我想組隊挑戰他#l \n\r #L2#我想兌換腰帶#l \n\r #L3#我想重設訓練點#l \n\r #L5#什麼是武陵修煉場？#l&quot;);
    } else if (isRestingSpot(mapid)) {
	cm.sendSimple(&quot;我很驚訝你已經安全地達到了這個樓層，但是不會再這麼容易了。你怎麼想？你想繼續嗎？#b \n\r #L0#是的，我要繼續。#l \n\r #L1#我想離開。#l \n\r #L2#我想儲存我的紀錄。#l&quot;);
    } else {
	cm.sendYesNo(&quot;什麼？你準備要離開了？您還可以進入下一個級別呢！你確定真的要離開？&quot;);
    }
}

function action(mode, type, selection) {
    if (mapid == 925020001) {
	if (mode == 1) {
	    status++;
	} else {
	    cm.dispose();
		return;
	}
	if (status == 0) {
	    sel = selection;

	    if (sel == 5) {
		cm.sendNext(&quot;我的師傅是武陵中擁有最高功力的人，且他也是建立這個武陵修練塔的人。武陵道場是一個龐大的訓練設施，共有38層。 每個樓層難度級別都不同。當然，憑藉您的功力，到達頂樓是不可能的...&quot;);
		cm.dispose();
	    } else if (sel == 3) {
		cm.sendYesNo(&quot;您知道如果重新設置訓練點，它將恢復為0，對吧？老實說，這不一定是壞事。重置訓練點並重新開始後，那麼您就可以再次收到皮帶了。 你想重設訓練點嗎？&quot;);
	    } else if (sel == 2) {
		cm.sendSimple(&quot;到目前為止，您的總訓練點數是 #b&quot;+cm.getDojoPoints()+&quot;#k。 我的師父惜愛有才華的人，因此，如果您積累了足夠的訓練點， 您將可以根據自己的訓練點獲得腰帶...\n\r #L0##i1132000:# #t1132000# (50)#l \n\r #L1##i1132001:# #t1132001# (150)#l \n\r #L2##i1132002:# #t1132002# (300)#l \n\r #L3##i1132003:# #t1132003# (450)#l \n\r #L4##i1132004:# #t1132004# (600)#l\r\n&quot;);
	    } else if (sel == 1) {
		if (cm.getParty() != null) {
		    if (cm.isLeader()) {
			cm.sendOk(&quot;您要立即進入嗎？&quot;);
		    } else {
			cm.sendOk(&quot;嘿，您甚至都不是隊長。您想偷偷溜進去做什麼？如果您想進入該場所，請告訴您的隊長與我交談。&quot;);
		    }
		}
	    } else if (sel == 0) {
		if (cm.getParty() != null) {
			cm.sendOk(&quot;請離開你的隊伍。&quot;);
			cm.dispose();
		}
		var record = cm.getQuestRecord(150000);
		var data = record.getCustomData();

		if (data != null) {
		    var idd = get_restinFieldID(parseInt(data));
		    if (idd != 925020002) {
		        cm.dojoAgent_NextMap(true, true , idd );
		        record.setCustomData(null);
		    } else {
			cm.sendOk(&quot;請等等再嘗試一次。&quot;);
		    }
		} else {
		    cm.start_DojoAgent(true, false);
		}
		cm.dispose();
	    // cm.sendYesNo(&quot;The last time you took the challenge yourself, you were able to reach Floor #18. I can take you straight to that floor, if you want. Are you interested?&quot;);
	    }
	} else if (status == 1) {
	    if (sel == 3) {
		cm.setDojoRecord(true);
		cm.sendOk(&quot;我已將您的訓練點重設為0&quot;);
	    } else if (sel == 2) {
		var record = cm.getDojoRecord();
		var required = 0;
		
		switch (record) {
		    case 0:
			required = 500;
			break;
		    case 1:
			required = 1500;
			break;
		    case 2:
			required = 3000;
			break;
		    case 3:
			required = 4500;
			break;
		    case 4:
			required = 6000;
			break;
			case 5:
			required = 9000;
			break;
			case 6:
			required = 11000;
			break;
			case 7:
			required = 15000;
			break;
		}

		if (record == selection &amp;&amp; cm.getDojoPoints() &gt;= required) {
		    var item = 1132000 + record;
		    if (cm.canHold(item)) {
			cm.gainItem(item, 1);
			cm.setDojoRecord(false);
		    } else {
			cm.sendOk(&quot;請檢查背包中是否還有空位。&quot;);
		    }
		} else {
		    cm.sendOk(&quot;您已經擁有或訓練點不足。請嘗試先獲取較低階的腰帶。&quot;);
		}
		cm.dispose();
	    } else if (sel == 1) {
		cm.start_DojoAgent(true, true);
		cm.dispose();
	    }
	}
    } else if (isRestingSpot(mapid)) {
	if (mode == 1) {
	    status++;
	} else {
	    cm.dispose();
	    return;
	}

	if (status == 0) {
	    sel = selection;

	    if (sel == 0) {
		if (cm.getParty() == null || cm.isLeader()) {
		    cm.dojoAgent_NextMap(true, true);
		} else {
		    cm.sendOk(&quot;只有隊長可以繼續前進。&quot;);
		}
		//cm.getQuestRecord(150000).setCustomData(null);
		cm.dispose();
	    } else if (sel == 1) {
		cm.askAcceptDecline(&quot;你想退出嗎？你真的想離開這裡嗎？&quot;);
	    } else if (sel == 2) {
		if (cm.getParty() == null) {
			var stage = get_stageId(cm.getMapId());

			cm.getQuestRecord(150000).setCustomData(stage);
			cm.sendOk(&quot;我剛剛記錄了您的進度。下次您到達這裡時，我會直接將您送到此樓層。&quot;);
			cm.dispose();
		} else {
			cm.sendOk(&quot;嘿..您無法記錄與隊伍合作的進度...&quot;);
			cm.dispose();
		}
	    }
	} else if (status == 1) {
	    if (sel == 1) {
		if (cm.isLeader()) {
			cm.warpParty(925020002);
		} else {
			cm.warp(925020002);
		}
	    }
	    cm.dispose();
	}
    } else {
	if (mode == 1) {
		if (cm.isLeader()) {
			cm.warpParty(925020002);
		} else {
			cm.warp(925020002);
		}
	}
	cm.dispose();
    }
}

function get_restinFieldID(id) {
	var idd = 925020002;
    switch (id) {
	case 1:
	    idd =  925020600;
	    break;
	case 2:
	    idd =  925021200;
	    break;
	case 3:
	    idd =  925021800;
	    break;
	case 4:
	    idd =  925022400;
	    break;
	case 5:
	    idd =  925023000;
	    break;
	case 6:
	    idd =  925023600;
	    break;
    }
    for (var i = 0; i &lt; 10; i++) {
	var canenterr = true;
	for (var x = 1; x &lt; 39; x++) {
		var map = cm.getMap(925020000 + 100 * x + i);
		if (map.getCharactersSize() &gt; 0) {
			canenterr = false;
			break;
		}
	}
	if (canenterr) {
		idd += i;
		break;
	}
}
	return idd;
}

function get_stageId(mapid) {
    if (mapid &gt;= 925020600 &amp;&amp; mapid &lt;= 925020614) {
	return 1;
    } else if (mapid &gt;= 925021200 &amp;&amp; mapid &lt;= 925021214) {
	return 2;
    } else if (mapid &gt;= 925021800 &amp;&amp; mapid &lt;= 925021814) {
	return 3;
    } else if (mapid &gt;= 925022400 &amp;&amp; mapid &lt;= 925022414) {
	return 4;
    } else if (mapid &gt;= 925023000 &amp;&amp; mapid &lt;= 925023014) {
	return 5;
    } else if (mapid &gt;= 925023600 &amp;&amp; mapid &lt;= 925023614) {
	return 6;
    }
    return 0;
}

function isRestingSpot(id) {
    return (get_stageId(id) &gt; 0);
}
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E6%BC%94%E7%A4%BA">演示：</a></li>
<li><a href="#%E8%85%B3%E6%9C%AC">腳本：</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://Z1Nhouse.github.io//post/OnsEcwuX-">
              <h3 class="post-title">
                【JAVA】UVA 10056 - What is the Probability? 
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: 'e5c1a1597ef592d472ea',
    clientSecret: 'f7693b11e4023f6556063c4302faab8119ed81aa',
    repo: 'z1nhouse.github.io',
    owner: 'z1nhouse',
    admin: ['z1nhouse'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://Z1Nhouse.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
